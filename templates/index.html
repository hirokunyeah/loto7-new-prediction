<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ãƒ­ãƒˆ7 åˆ†æãƒ»äºˆæ¸¬ã‚·ã‚¹ãƒ†ãƒ </title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Segoe UI', 'Yu Gothic', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }
        .container { max-width: 1400px; margin: 0 auto; }
        .header { text-align: center; color: white; margin-bottom: 30px; }
        .header h1 { font-size: 2.5em; margin-bottom: 10px; text-shadow: 2px 2px 4px rgba(0,0,0,0.3); }
        .header p { font-size: 1.1em; opacity: 0.9; }
        .control-panel {
            background: white;
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            margin-bottom: 30px;
        }
        .tabs { display: flex; gap: 10px; margin-bottom: 20px; border-bottom: 2px solid #e0e0e0; }
        .tab {
            padding: 12px 24px;
            background: transparent;
            border: none;
            color: #666;
            font-size: 1em;
            font-weight: 600;
            cursor: pointer;
            border-bottom: 3px solid transparent;
            transition: all 0.3s;
        }
        .tab:hover { color: #667eea; }
        .tab.active { color: #667eea; border-bottom-color: #667eea; }
        .tab-content { display: none; padding: 20px 0; }
        .tab-content.active { display: block; }
        .form-group { margin-bottom: 20px; }
        .form-group label { display: block; margin-bottom: 8px; color: #333; font-weight: 600; }
        .form-group input[type="number"],
        .form-group input[type="file"] {
            width: 100%;
            padding: 12px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 1em;
            transition: border-color 0.3s;
        }
        .form-group input:focus { outline: none; border-color: #667eea; }
        .btn {
            padding: 12px 30px;
            border: none;
            border-radius: 8px;
            font-size: 1em;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
        }
        .btn-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }
        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }
        .btn-success { background: #28a745; color: white; }
        .btn-success:hover { background: #1e7e34; }
        .message {
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
            font-weight: 500;
            animation: slideIn 0.3s ease-out;
        }
        @keyframes slideIn {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .message.success { background: #d4edda; color: #155724; border-left: 4px solid #28a745; }
        .message.error { background: #f8d7da; color: #721c24; border-left: 4px solid #dc3545; }
        .message.info { background: #d1ecf1; color: #0c5460; border-left: 4px solid #17a2b8; }
        .loading { text-align: center; padding: 40px; color: white; font-size: 1.2em; }
        .loading::after { content: '...'; animation: dots 1.5s infinite; }
        @keyframes dots {
            0%, 20% { content: '.'; }
            40% { content: '..'; }
            60%, 100% { content: '...'; }
        }
        .results-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            color: white;
        }
        .results-header h2 { font-size: 1.8em; }
        .results-info {
            background: rgba(255,255,255,0.2);
            padding: 10px 20px;
            border-radius: 8px;
            font-size: 1.1em;
        }
        .draw-card {
            background: white;
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 20px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
            transition: transform 0.3s;
        }
        .draw-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.3);
        }
        .draw-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 2px solid #f0f0f0;
        }
        .draw-id { font-size: 1.4em; font-weight: bold; color: #333; }
        .draw-date { color: #666; font-size: 1.1em; }
        .numbers-container { display: flex; gap: 20px; flex-wrap: wrap; }
        .numbers-section { flex: 1; min-width: 300px; }
        .numbers-label { font-size: 0.9em; color: #666; margin-bottom: 10px; font-weight: 600; }
        .numbers-grid { display: flex; gap: 8px; flex-wrap: wrap; }
        .number-ball {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.3em;
            font-weight: bold;
            color: white;
            box-shadow: 0 3px 6px rgba(0,0,0,0.2);
        }
        .number-ball.main { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); }
        .number-ball.bonus { background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%); }
        .visual-bar { margin-top: 20px; padding-top: 20px; border-top: 2px solid #f0f0f0; }
        .visual-bar-label { font-size: 0.9em; color: #666; margin-bottom: 10px; font-weight: 600; }
        .bar-container {
            display: flex;
            gap: 2px;
            background: #f5f5f5;
            padding: 5px;
            border-radius: 8px;
            overflow-x: auto;
        }
        .bar-cell {
            min-width: 25px;
            height: 25px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.75em;
            color: #999;
            background: white;
            border: 1px solid #e0e0e0;
            border-radius: 3px;
        }
        .bar-cell.highlighted {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            font-weight: bold;
            border-color: #667eea;
        }
        .bar-cell.bonus-highlighted {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            color: white;
            font-weight: bold;
            border-color: #f5576c;
        }
        .legend {
            display: flex;
            gap: 20px;
            justify-content: center;
            margin-bottom: 20px;
            color: white;
        }
        .legend-item { display: flex; align-items: center; gap: 8px; font-size: 1.1em; }
        .legend-color {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            box-shadow: 0 2px 4px rgba(0,0,0,0.2);
        }
        .legend-color.main { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); }
        .legend-color.bonus { background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%); }
        .hidden { display: none; }
        .evaluation-section {
            margin-top: 20px;
            padding-top: 20px;
            border-top: 2px solid #f0f0f0;
        }
        .evaluation-title {
            font-size: 1em;
            font-weight: 600;
            color: #333;
            margin-bottom: 15px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        .evaluation-title:hover { color: #667eea; }
        .evaluation-toggle {
            font-size: 0.9em;
            color: #667eea;
        }
        .evaluation-content {
            display: none;
            margin-top: 10px;
        }
        .evaluation-content.show { display: block; }
        .filter-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 15px;
        }
        .filter-item {
            background: #f8f9fa;
            padding: 12px;
            border-radius: 8px;
            border-left: 4px solid #ddd;
        }
        .filter-item.pass { border-left-color: #28a745; }
        .filter-item.fail { border-left-color: #dc3545; }
        .filter-name {
            font-weight: 600;
            color: #333;
            margin-bottom: 6px;
            display: flex;
            align-items: center;
            gap: 6px;
        }
        .filter-badge {
            font-size: 0.75em;
            padding: 2px 8px;
            border-radius: 12px;
            color: white;
            font-weight: 600;
        }
        .filter-badge.pass { background: #28a745; }
        .filter-badge.fail { background: #dc3545; }
        .filter-details {
            font-size: 0.9em;
            color: #666;
            line-height: 1.6;
        }
        .filter-details strong { color: #333; }
        @media (max-width: 768px) {
            .header h1 { font-size: 1.8em; }
            .numbers-section { min-width: 100%; }
            .number-ball { width: 45px; height: 45px; font-size: 1.1em; }
            .results-header { flex-direction: column; gap: 10px; }
            .filter-grid { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ± ãƒ­ãƒˆ7 åˆ†æãƒ»äºˆæ¸¬ã‚·ã‚¹ãƒ†ãƒ </h1>
            <p>éå»ã®å½“é¸çµæœã®è¡¨ç¤ºã¨ç•ªå·äºˆæ¸¬</p>
        </div>
        <div class="legend">
            <div class="legend-item">
                <div class="legend-color main"></div>
                <span>æœ¬æ•°å­—</span>
            </div>
            <div class="legend-item">
                <div class="legend-color bonus"></div>
                <span>ãƒœãƒ¼ãƒŠã‚¹æ•°å­—</span>
            </div>
        </div>
        <div class="control-panel">
            <div class="tabs">
                <button class="tab active" onclick="switchTab('history')">ğŸ“Š éå»ã®çµæœ</button>
                <button class="tab" onclick="switchTab('predict')">ğŸ”® ç•ªå·äºˆæ¸¬</button>
                <button class="tab" onclick="switchTab('upload')">ğŸ“ ãƒ•ã‚¡ã‚¤ãƒ«èª­è¾¼</button>
            </div>
            <div id="tab-history" class="tab-content active">
                <p style="color: #666; margin-bottom: 15px;">ä¿å­˜ã•ã‚Œã¦ã„ã‚‹éå»ã®ãƒ­ãƒˆ7æŠ½é¸çµæœã‚’è¡¨ç¤ºã—ã¾ã™ã€‚</p>
                <div class="form-group" style="margin-bottom: 15px;">
                    <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
                        <input type="checkbox" id="show-evaluation" style="width: auto; cursor: pointer;">
                        <span>ãƒ•ã‚£ãƒ«ã‚¿è©•ä¾¡ã‚’è¡¨ç¤ºã™ã‚‹</span>
                    </label>
                </div>
                <button class="btn btn-primary" onclick="loadHistoricalData()">éå»ã®çµæœã‚’è¡¨ç¤º</button>
            </div>
            <div id="tab-predict" class="tab-content">
                <p style="color: #666; margin-bottom: 15px;">çµ±è¨ˆçš„åˆ†æã«åŸºã¥ã„ã¦ã€æ¬¡å›ã®æŠ½é¸ã®å€™è£œç•ªå·ã‚’è¤‡æ•°å€‹ç”Ÿæˆã—ã¾ã™ã€‚</p>
                <div class="form-group">
                    <label for="num-predictions">å€™è£œæ•°ï¼ˆ1-100ï¼‰</label>
                    <input type="number" id="num-predictions" value="10" min="1" max="100">
                </div>
                <div class="form-group">
                    <label for="next-draw">æ¬¡å›ã®å›æ•°ï¼ˆè‡ªå‹•è¨ˆç®—ã•ã‚Œã¾ã™ï¼‰</label>
                    <input type="number" id="next-draw" value="650" min="1" placeholder="è‡ªå‹•">
                </div>
                <button class="btn btn-success" onclick="generatePredictions()">äºˆæ¸¬å€™è£œã‚’ç”Ÿæˆ</button>
            </div>
            <div id="tab-upload" class="tab-content">
                <p style="color: #666; margin-bottom: 15px;">JSONãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰æŠ½é¸ãƒ‡ãƒ¼ã‚¿ã‚’èª­ã¿è¾¼ã¿ã¾ã™ã€‚</p>
                <div class="form-group">
                    <label for="json-file">JSONãƒ•ã‚¡ã‚¤ãƒ«ã‚’é¸æŠ</label>
                    <input type="file" id="json-file" accept=".json">
                </div>
                <button class="btn btn-primary" onclick="uploadFile()">ãƒ•ã‚¡ã‚¤ãƒ«ã‚’èª­ã¿è¾¼ã‚€</button>
            </div>
        </div>
        <div id="message-container"></div>
        <div id="loading" class="loading hidden">å‡¦ç†ä¸­</div>
        <div id="results-section" class="hidden">
            <div class="results-header">
                <h2>ğŸ“‹ è¡¨ç¤ºçµæœ</h2>
                <div class="results-info"><span id="results-count">0ä»¶</span></div>
            </div>
            <div id="results-container"></div>
        </div>
    </div>
    <script>
        let currentData = null;
        let messageTimeout = null;
        function switchTab(tabName) {
            document.querySelectorAll('.tab').forEach(tab => tab.classList.remove('active'));
            event.target.classList.add('active');
            document.querySelectorAll('.tab-content').forEach(content => content.classList.remove('active'));
            document.getElementById('tab-' + tabName).classList.add('active');
        }
        function showMessage(message, type) {
            type = type || 'success';
            const container = document.getElementById('message-container');
            container.innerHTML = '<div class="message ' + type + '">' + message + '</div>';
            if (messageTimeout) clearTimeout(messageTimeout);
            messageTimeout = setTimeout(function() { container.innerHTML = ''; }, 5000);
        }
        function toggleLoading(show) {
            document.getElementById('loading').classList.toggle('hidden', !show);
        }
        function toggleResults(show) {
            document.getElementById('results-section').classList.toggle('hidden', !show);
        }
        async function loadHistoricalData() {
            try {
                toggleLoading(true);
                const showEvaluation = document.getElementById('show-evaluation').checked;
                const url = '/api/data' + (showEvaluation ? '?evaluation=true' : '');
                const response = await fetch(url);
                const result = await response.json();
                if (result.success) {
                    currentData = result.draws;
                    displayResults();
                    const evalMsg = showEvaluation ? 'ï¼ˆè©•ä¾¡ä»˜ãï¼‰' : '';
                    showMessage(result.count + 'ä»¶ã®éå»ã®æŠ½é¸çµæœã‚’èª­ã¿è¾¼ã¿ã¾ã—ãŸã€‚' + evalMsg, 'success');
                } else {
                    showMessage(result.message, 'error');
                }
            } catch (error) {
                showMessage('ãƒ‡ãƒ¼ã‚¿ã®èª­ã¿è¾¼ã¿ã«å¤±æ•—ã—ã¾ã—ãŸ: ' + error.message, 'error');
            } finally {
                toggleLoading(false);
            }
        }
        async function generatePredictions() {
            try {
                toggleLoading(true);
                const numPredictions = parseInt(document.getElementById('num-predictions').value);
                const nextDraw = parseInt(document.getElementById('next-draw').value) || null;
                if (numPredictions < 1 || numPredictions > 100) {
                    showMessage('å€™è£œæ•°ã¯1ã‹ã‚‰100ã®é–“ã§æŒ‡å®šã—ã¦ãã ã•ã„ã€‚', 'error');
                    toggleLoading(false);
                    return;
                }
                const requestBody = { count: numPredictions };
                if (nextDraw) {
                    requestBody.next_draw_number = nextDraw;
                }
                const response = await fetch('/api/predict', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(requestBody)
                });
                const result = await response.json();
                if (result.success) {
                    currentData = result.draws;
                    displayResults();
                    showMessage(result.message, 'success');
                } else {
                    showMessage(result.message, 'error');
                }
            } catch (error) {
                showMessage('äºˆæ¸¬ã®ç”Ÿæˆã«å¤±æ•—ã—ã¾ã—ãŸ: ' + error.message, 'error');
            } finally {
                toggleLoading(false);
            }
        }
        async function uploadFile() {
            try {
                const fileInput = document.getElementById('json-file');
                if (!fileInput.files[0]) {
                    showMessage('ãƒ•ã‚¡ã‚¤ãƒ«ã‚’é¸æŠã—ã¦ãã ã•ã„ã€‚', 'error');
                    return;
                }
                toggleLoading(true);
                const formData = new FormData();
                formData.append('file', fileInput.files[0]);
                const response = await fetch('/api/upload', {
                    method: 'POST',
                    body: formData
                });
                const result = await response.json();
                if (result.success) {
                    currentData = result.draws;
                    displayResults();
                    showMessage(result.message, 'success');
                    fileInput.value = '';
                } else {
                    showMessage(result.message, 'error');
                }
            } catch (error) {
                showMessage('ãƒ•ã‚¡ã‚¤ãƒ«ã®ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã«å¤±æ•—ã—ã¾ã—ãŸ: ' + error.message, 'error');
            } finally {
                toggleLoading(false);
            }
        }
        function createDrawCard(draw) {
            const card = document.createElement('div');
            card.className = 'draw-card';
            const header = document.createElement('div');
            header.className = 'draw-header';
            header.innerHTML = '<div class="draw-id">' + draw.id + '</div><div class="draw-date">' + draw.date + '</div>';
            card.appendChild(header);
            const numbersContainer = document.createElement('div');
            numbersContainer.className = 'numbers-container';
            const mainSection = document.createElement('div');
            mainSection.className = 'numbers-section';
            mainSection.innerHTML = '<div class="numbers-label">æœ¬æ•°å­—</div>';
            const mainGrid = document.createElement('div');
            mainGrid.className = 'numbers-grid';
            draw.main.forEach(function(num) {
                const ball = document.createElement('div');
                ball.className = 'number-ball main';
                ball.textContent = num;
                mainGrid.appendChild(ball);
            });
            mainSection.appendChild(mainGrid);
            const bonusSection = document.createElement('div');
            bonusSection.className = 'numbers-section';
            bonusSection.innerHTML = '<div class="numbers-label">ãƒœãƒ¼ãƒŠã‚¹æ•°å­—</div>';
            const bonusGrid = document.createElement('div');
            bonusGrid.className = 'numbers-grid';
            draw.bonus.forEach(function(num) {
                const ball = document.createElement('div');
                ball.className = 'number-ball bonus';
                ball.textContent = num;
                bonusGrid.appendChild(ball);
            });
            bonusSection.appendChild(bonusGrid);
            numbersContainer.appendChild(mainSection);
            numbersContainer.appendChild(bonusSection);
            card.appendChild(numbersContainer);
            const visualBar = document.createElement('div');
            visualBar.className = 'visual-bar';
            visualBar.innerHTML = '<div class="visual-bar-label">1-37 ç•ªå·åˆ†å¸ƒ</div>';
            const barContainer = document.createElement('div');
            barContainer.className = 'bar-container';
            for (let i = 1; i <= 37; i++) {
                const cell = document.createElement('div');
                cell.className = 'bar-cell';
                cell.textContent = i;
                if (draw.main.includes(i)) {
                    cell.classList.add('highlighted');
                } else if (draw.bonus.includes(i)) {
                    cell.classList.add('bonus-highlighted');
                }
                barContainer.appendChild(cell);
            }
            visualBar.appendChild(barContainer);
            card.appendChild(visualBar);
            
            // Add evaluation section if available
            if (draw.evaluation) {
                const evalSection = createEvaluationSection(draw.evaluation);
                card.appendChild(evalSection);
            }
            
            return card;
        }
        
        function createEvaluationSection(evaluation) {
            const section = document.createElement('div');
            section.className = 'evaluation-section';
            
            const title = document.createElement('div');
            title.className = 'evaluation-title';
            title.innerHTML = '<span>ğŸ“Š ãƒ•ã‚£ãƒ«ã‚¿è©•ä¾¡è©³ç´°</span><span class="evaluation-toggle">â–¼ è¡¨ç¤º</span>';
            title.onclick = function() {
                const content = section.querySelector('.evaluation-content');
                const toggle = title.querySelector('.evaluation-toggle');
                content.classList.toggle('show');
                toggle.textContent = content.classList.contains('show') ? 'â–² éè¡¨ç¤º' : 'â–¼ è¡¨ç¤º';
            };
            section.appendChild(title);
            
            const content = document.createElement('div');
            content.className = 'evaluation-content';
            
            const filterGrid = document.createElement('div');
            filterGrid.className = 'filter-grid';
            
            // Continuous filter
            const continuous = createFilterItem('é€£ç¶šç•ªå·', evaluation.continuous.pass, 
                evaluation.continuous.pairs.length > 0 
                    ? 'é€£ç¶š: ' + evaluation.continuous.pairs.join(', ')
                    : 'é€£ç¶šç•ªå·ã‚ã‚Š');
            filterGrid.appendChild(continuous);
            
            // Zone3 filter
            const zone3Details = Object.entries(evaluation.zone3.distribution)
                .map(([k, v]) => k + ': ' + v + 'å€‹').join(', ');
            const zone3 = createFilterItem('3ã‚¾ãƒ¼ãƒ³åˆ†å¸ƒ', evaluation.zone3.pass, zone3Details);
            filterGrid.appendChild(zone3);
            
            // Zone4 filter
            const zone4Details = Object.entries(evaluation.zone4.distribution)
                .map(([k, v]) => k + ': ' + v + 'å€‹').join(', ');
            const zone4 = createFilterItem('4ã‚¾ãƒ¼ãƒ³åˆ†å¸ƒ', evaluation.zone4.pass, zone4Details);
            filterGrid.appendChild(zone4);
            
            // Odd/Even filter
            const oddEven = createFilterItem('å¥‡æ•°å¶æ•°', evaluation.odd_even.pass,
                'å¥‡æ•°: ' + evaluation.odd_even.odd + 'å€‹, å¶æ•°: ' + evaluation.odd_even.even + 'å€‹');
            filterGrid.appendChild(oddEven);
            
            // Sum filter
            const sum = createFilterItem('åˆè¨ˆå€¤', evaluation.sum.pass,
                'åˆè¨ˆ: ' + evaluation.sum.total + ' (ç¯„å›²: ' + evaluation.sum.range + ')');
            filterGrid.appendChild(sum);
            
            // Last digits filter
            const lastDigitsDetails = Object.entries(evaluation.last_digits.distribution)
                .sort((a, b) => parseInt(a[0]) - parseInt(b[0]))
                .map(([k, v]) => k + 'â†’' + v + 'å›').join(', ');
            const lastDigits = createFilterItem('ä¸‹ä¸€æ¡åˆ†å¸ƒ', evaluation.last_digits.pass,
                lastDigitsDetails + ' (æœ€å¤§: ' + evaluation.last_digits.max_count + 'å›)');
            filterGrid.appendChild(lastDigits);
            
            // Pull filter
            const pull = createFilterItem('å‰å›å¼•ç¶™', evaluation.pull.pass,
                'å‰å›ã¨ã®é‡è¤‡: ' + evaluation.pull.count + 'å€‹ (è¨±å®¹: ' + evaluation.pull.valid_range + ')');
            filterGrid.appendChild(pull);
            
            content.appendChild(filterGrid);
            section.appendChild(content);
            
            return section;
        }
        
        function createFilterItem(name, pass, details) {
            const item = document.createElement('div');
            item.className = 'filter-item ' + (pass ? 'pass' : 'fail');
            
            const nameDiv = document.createElement('div');
            nameDiv.className = 'filter-name';
            nameDiv.innerHTML = name + ' <span class="filter-badge ' + (pass ? 'pass' : 'fail') + '">' 
                + (pass ? 'âœ“ åˆæ ¼' : 'âœ— ä¸åˆæ ¼') + '</span>';
            
            const detailsDiv = document.createElement('div');
            detailsDiv.className = 'filter-details';
            detailsDiv.textContent = details;
            
            item.appendChild(nameDiv);
            item.appendChild(detailsDiv);
            
            return item;
        }
        
        function displayResults() {
            const container = document.getElementById('results-container');
            container.innerHTML = '';
            if (!currentData || currentData.length === 0) {
                toggleResults(false);
                showMessage('è¡¨ç¤ºã™ã‚‹ãƒ‡ãƒ¼ã‚¿ãŒã‚ã‚Šã¾ã›ã‚“ã€‚', 'info');
                return;
            }
            currentData.forEach(function(draw) {
                const card = createDrawCard(draw);
                container.appendChild(card);
            });
            document.getElementById('results-count').textContent = currentData.length + 'ä»¶';
            toggleResults(true);
        }
        document.addEventListener('DOMContentLoaded', function() {
            loadHistoricalData();
        });
    </script>
</body>
</html>
